{%  extends "novabase.html" %}
{%  block title %}CHW Registration{%  endblock  %}
{%  block subtitle %} CHW Registration {%  endblock  %}


{% block menu %}
 		  <li class="homelink">
            <a href='/dashboards/{{ nav.link("chw", view= "graphic") }}'><span>Statistics</span></a>
          </li>
          <li class="homelink">
            <a href='/dashboards/{{ nav.link("chwreg") }}'><span>Register</span></a>
          </li>
          <li class="homelink">
            <a href='/dashboards/{{ nav.link("chwtrail") }}'><span>CHW Trial</span></a>
          </li>
          <li class="homelink">
            <a href='/dashboards/{{ nav.link("chwstaff") }}'><span>Staff</span></a>
          </li>
	 <li class="homelink">
            <a href='/dashboards/{{ nav.link("chwamb") }}'><span>Ambulance</span></a>
          </li>
         

          
{% endblock %}

{% block position %}
<li>&#187; <a href='/dashboards/{{ nav.link("chwreg", view= "graphic", minus = ["group"]) }}'>CHW Registration</a></li>
{% if group %}
<li> &#187; {{ group }}</li>
{% endif %}
{% endblock %}


{%  block mainpart  %}
<div class="smallcontainer" style="padding-top:50px;">

	 <img class="icon" src="{{  static_path }}/images/chwphone.png" />
    <div class="infoname" style="font-size: 20px;">Total Number of CHWs</div>
    <div class="moretotal" ><a href="">View by Location</a></div>
    <div class="infodata goodnum">
      <a href="">{{display.nat[0]['total']}}</a>
    </div>



  </div>
  </div>
  
  <div class="humblecontainer">
  <div class="infoname" style="padding-left:200px; padding-top:50px; padding-bottom: 20px;">Register a new CHW</div>

   <form class="regform" method="POST">
    
<label style="color:red;">{{display.error}}</label> <label style="color:blue;">{{display.success}}</label>
<br><br>
    
<label>Surname: </label>
<input type="text" name="surname" value="">
<br><br>

<label id="gn">Given Name: </label>
<input type="text" name="given_name" value="">
<br><br>

<label id="sex">Sex: </label>
<select name="sex" id="sexchoose"><option></option>
<option value="M">Male</option>
<option value="F">Female</option>   
</select>
<br><br>

<label id="role">Role: </label>
<select name="role" id="rolechoose">{%for x in display.roles%}<option value={{x.id}}> {{x.name}}</option>{%endfor%}   
</select>
<br><br>

<label id="edu">Educational Level: </label>
<select name="edu_level" id="educhoose"> <option value="N">None</option>
<option value="P">Primaire</option>
<option value="S">Secondaire</option>
<option value="U">University</option>  
</select>
<br><br>

<label id="dob">Date of Birth: </label>
<input value="" placeholder="Date of birth" class="activedate" type="text" name="dob" />
<br><br>


<label id="jod">Joining Date: </label>
<input value="" placeholder="Joining Date" class="activedate" type="text" name="djoin" />
<br><br>

<label id="referral">Referral Hospital: </label>
<select name="referral" id="referralchoose"><option></option></select> 
<br><br>

<label id="health_center">Health Center: </label>
<select name="health_center" id="locchoose"><option value="{{display.hc.id}}" selected="selected">{{display.hc.name}} </option></select> 
<br><br>

<label id="sector">Sector: </label>
<select name="sector" id="secchoose" onChange="changeSector(this.value);">{%for x in display.sectors%}<option value={{x.id}}> {{x.name}}</option>{%endfor%}</select> 
<br><br>

<label id="cell">Cell: </label>
<select name="cell" id="cellchoose" onChange="changeCell(this.value);"><option > </option></select> 
<br><br>

<label id="village">Village: </label>
<select name="village" id="villchoose"><option > </option></select> 
<br><br>


<label id="nid">National ID: </label>
<input type="text" name="nid" id="national_id" value="" class="ac_input">
<br><br>


<label id="tel">Telephone: </label>
<input type="text" name="telephone_moh" id="telephone_moh" value="" class="ac_input">
<br><br>

<label id="lang">Language: </label>
<select name="language" id="language">
<option value="rw">Kinyarwanda</option>
<option value="fr">Francais</option>
<option value="en">English</option>  
</select>
<br><br>


  <input type="button"  onClick="return PassCheck(this.form);" value="Register" />
  </form>

  </div>

<script type="text/javascript">

function PassCheck(form1)
	{ 
	if(form1.telephone_moh.value=="" || form1.telephone_moh.value.indexOf("078") < 0 || form1.telephone_moh.value.length != 10 || isNaN(form1.telephone_moh.value) )
	{
	alert("Get in the Valid Telephone Number please.");
		form1.telephone_moh.focus();
		return false;
	}
	else if(form1.nid.value=="" || form1.nid.value.length != 16 || isNaN(form1.nid.value) )
	{
	alert("Get in the Valid National ID.");
	form1.new_pass.focus();
	return false;
	}
	else if(form1.role.value=="" || isNaN(form1.role.value))
	{
	alert("Select ASM or Binome.");
	form1.role.focus();
	return false;
	}
	else if(form1.health_center.value=="" || isNaN(form1.health_center.value))
	{
	alert("Select Health Center");
	form1.health_center.focus();
	return false;
	}
	else if( form1.referral.value == "" || isNaN(form1.referral.value))
	{
	alert("Select Referral Hospital.");
	form1.referral.focus();
	return false;
	}
	else if(form1.village.value=="" || isNaN(form1.village.value))
	{
	alert("Select Village Please.");
	form1.village.focus();
	return false;
	}

	else if(form1.surname.value=="" || form1.given_name.value == "")
	{
	alert("Get in Names Please.");
	form1.surname.focus();
	return false;
	}

	else if(form1.dob.value=="")
	{
	alert("Get in Date Of Birth Please.");
	form1.dob.focus();
	return false;
	}

	else if(form1.djoin.value=="")
	{
	alert("Get in Joining Date Please.");
	form1.djoin.focus();
	return false;
	}

	else if(form1.sex.value=="")
	{
	alert("Select Sex Please.");
	form1.sex.focus();
	return false;
	}
	
	else
	{
		form1.submit();
	}
    }
</script>

{%  endblock  %}
